<uml:diagram xmlns:uml="http://ideanest.com/dscribe/ns/uml" diagram="d1-1289" kind="class" xml:id="_r-cd.m1-1290.2.">
    <uml:class depicts="j1-698" xml:id="_r-cctd.m1-1291.j1-698._r-cd.m1-1290.2..3.">
        <uml:blockname xml:id="_r-ccn.j1-698._r-cctd.m1-1291.j1-698._r-cd.m1-1290.2..3..2.">_Test</uml:blockname>
        <uml:compartment kind="attributes" xml:id="_r-ccc._r-cctd.m1-1291.j1-698._r-cd.m1-1290.2..3..1-1.">
            <uml:attribute depicts="j1-699" xml:id="_r-cfta.j1-699._r-ccc._r-cctd.m1-1291.j1-698._r-cd.m1-1290.2..3..1-1..2.">
                <uml:var>
                    <uml:name>mockery</uml:name>
                    <uml:type>org.jmock.Mockery</uml:type>
                </uml:var>
            </uml:attribute>
            <uml:attribute depicts="j1-700" xml:id="_r-cfta.j1-700._r-ccc._r-cctd.m1-1291.j1-698._r-cd.m1-1290.2..3..1-1..2.">
                <uml:var>
                    <uml:name>sortController</uml:name>
                    <uml:type>com.ideanest.dscribe.mixt.SortController</uml:type>
                </uml:var>
            </uml:attribute>
            <uml:attribute depicts="j1-701" xml:id="_r-cfta.j1-701._r-ccc._r-cctd.m1-1291.j1-698._r-cd.m1-1290.2..3..1-1..2.">
                <uml:var>
                    <uml:name>engine</uml:name>
                    <uml:type>com.ideanest.dscribe.mixt.Engine</uml:type>
                </uml:var>
            </uml:attribute>
            <uml:attribute depicts="j1-702" xml:id="_r-cfta.j1-702._r-ccc._r-cctd.m1-1291.j1-698._r-cd.m1-1290.2..3..1-1..2.">
                <uml:var>
                    <uml:name>locator</uml:name>
                    <uml:type>com.ideanest.dscribe.mixt.Accumulator.Locator</uml:type>
                </uml:var>
            </uml:attribute>
            <uml:attribute depicts="j1-703" xml:id="_r-cfta.j1-703._r-ccc._r-cctd.m1-1291.j1-698._r-cd.m1-1290.2..3..1-1..2.">
                <uml:var>
                    <uml:name>workspace</uml:name>
                    <uml:type>org.exist.fluent.Folder</uml:type>
                </uml:var>
            </uml:attribute>
            <uml:attribute depicts="j1-704" xml:id="_r-cfta.j1-704._r-ccc._r-cctd.m1-1291.j1-698._r-cd.m1-1290.2..3..1-1..2.">
                <uml:var>
                    <uml:name>doc1</uml:name>
                    <uml:type>org.exist.fluent.XMLDocument</uml:type>
                </uml:var>
            </uml:attribute>
            <uml:attribute depicts="j1-705" xml:id="_r-cfta.j1-705._r-ccc._r-cctd.m1-1291.j1-698._r-cd.m1-1290.2..3..1-1..2.">
                <uml:var>
                    <uml:name>doc2</uml:name>
                    <uml:type>org.exist.fluent.XMLDocument</uml:type>
                </uml:var>
            </uml:attribute>
            <uml:attribute depicts="j1-706" xml:id="_r-cfta.j1-706._r-ccc._r-cctd.m1-1291.j1-698._r-cd.m1-1290.2..3..1-1..2.">
                <uml:var>
                    <uml:name>doc3</uml:name>
                    <uml:type>org.exist.fluent.XMLDocument</uml:type>
                </uml:var>
            </uml:attribute>
            <uml:attribute depicts="j1-707" xml:id="_r-cfta.j1-707._r-ccc._r-cctd.m1-1291.j1-698._r-cd.m1-1290.2..3..1-1..2.">
                <uml:var>
                    <uml:name>modStore</uml:name>
                    <uml:type>org.exist.fluent.Node</uml:type>
                </uml:var>
            </uml:attribute>
            <uml:attribute depicts="j1-708" xml:id="_r-cfta.j1-708._r-ccc._r-cctd.m1-1291.j1-698._r-cd.m1-1290.2..3..1-1..2.">
                <uml:var>
                    <uml:name>e1</uml:name>
                    <uml:type>org.exist.fluent.Node</uml:type>
                </uml:var>
            </uml:attribute>
            <uml:attribute depicts="j1-709" xml:id="_r-cfta.j1-709._r-ccc._r-cctd.m1-1291.j1-698._r-cd.m1-1290.2..3..1-1..2.">
                <uml:var>
                    <uml:name>e2</uml:name>
                    <uml:type>org.exist.fluent.Node</uml:type>
                </uml:var>
            </uml:attribute>
            <uml:attribute depicts="j1-710" xml:id="_r-cfta.j1-710._r-ccc._r-cctd.m1-1291.j1-698._r-cd.m1-1290.2..3..1-1..2.">
                <uml:var>
                    <uml:name>f1</uml:name>
                    <uml:type>org.exist.fluent.Node</uml:type>
                </uml:var>
            </uml:attribute>
            <uml:attribute depicts="j1-711" xml:id="_r-cfta.j1-711._r-ccc._r-cctd.m1-1291.j1-698._r-cd.m1-1290.2..3..1-1..2.">
                <uml:var>
                    <uml:name>g1</uml:name>
                    <uml:type>org.exist.fluent.Node</uml:type>
                </uml:var>
            </uml:attribute>
        </uml:compartment>
        <uml:compartment kind="operations" xml:id="_r-ccc._r-cctd.m1-1291.j1-698._r-cd.m1-1290.2..3..1-2.">
            <uml:operation depicts="j1-712" xml:id="_r-cmto.j1-712._r-ccc._r-cctd.m1-1291.j1-698._r-cd.m1-1290.2..3..1-2..2.">
                <uml:name>setUp</uml:name>
                <uml:args/>
                <uml:type>void</uml:type>
            </uml:operation>
            <uml:operation depicts="j1-713" xml:id="_r-cmto.j1-713._r-ccc._r-cctd.m1-1291.j1-698._r-cd.m1-1290.2..3..1-2..2.">
                <uml:name>injectEngineCounter</uml:name>
                <uml:args>
                    <uml:var>
                        <uml:name>fieldName</uml:name>
                        <uml:type>java.lang.String</uml:type>
                    </uml:var>
                </uml:args>
                <uml:type>com.ideanest.dscribe.mixt.Counter</uml:type>
            </uml:operation>
            <uml:operation depicts="j1-714" xml:id="_r-cmto.j1-714._r-ccc._r-cctd.m1-1291.j1-698._r-cd.m1-1290.2..3..1-2..2.">
                <uml:name>done</uml:name>
                <uml:args/>
                <uml:type>void</uml:type>
            </uml:operation>
            <uml:operation depicts="j1-715" xml:id="_r-cmto.j1-715._r-ccc._r-cctd.m1-1291.j1-698._r-cd.m1-1290.2..3..1-2..2.">
                <uml:name>eventuallySort</uml:name>
                <uml:args/>
                <uml:type>void</uml:type>
            </uml:operation>
            <uml:operation depicts="j1-716" xml:id="_r-cmto.j1-716._r-ccc._r-cctd.m1-1291.j1-698._r-cd.m1-1290.2..3..1-2..2.">
                <uml:name>eventuallySortDocAlreadyPending</uml:name>
                <uml:args/>
                <uml:type>void</uml:type>
            </uml:operation>
            <uml:operation depicts="j1-717" xml:id="_r-cmto.j1-717._r-ccc._r-cctd.m1-1291.j1-698._r-cd.m1-1290.2..3..1-2..2.">
                <uml:name>sortDelegation</uml:name>
                <uml:args/>
                <uml:type>void</uml:type>
            </uml:operation>
            <uml:operation depicts="j1-718" xml:id="_r-cmto.j1-718._r-ccc._r-cctd.m1-1291.j1-698._r-cd.m1-1290.2..3..1-2..2.">
                <uml:name>executeEndOfCycleDocsOnly1</uml:name>
                <uml:args/>
                <uml:type>void</uml:type>
            </uml:operation>
            <uml:operation depicts="j1-719" xml:id="_r-cmto.j1-719._r-ccc._r-cctd.m1-1291.j1-698._r-cd.m1-1290.2..3..1-2..2.">
                <uml:name>executeEndOfCycleDocsOnly2</uml:name>
                <uml:args/>
                <uml:type>void</uml:type>
            </uml:operation>
            <uml:operation depicts="j1-720" xml:id="_r-cmto.j1-720._r-ccc._r-cctd.m1-1291.j1-698._r-cd.m1-1290.2..3..1-2..2.">
                <uml:name>executeEndOfCycleNodes</uml:name>
                <uml:args/>
                <uml:type>void</uml:type>
            </uml:operation>
            <uml:operation depicts="j1-721" xml:id="_r-cmto.j1-721._r-ccc._r-cctd.m1-1291.j1-698._r-cd.m1-1290.2..3..1-2..2.">
                <uml:name>sort</uml:name>
                <uml:args/>
                <uml:type>void</uml:type>
            </uml:operation>
            <uml:operation depicts="j1-722" xml:id="_r-cmto.j1-722._r-ccc._r-cctd.m1-1291.j1-698._r-cd.m1-1290.2..3..1-2..2.">
                <uml:name>sortNoMods</uml:name>
                <uml:args/>
                <uml:type>void</uml:type>
            </uml:operation>
        </uml:compartment>
    </uml:class>
    <uml:class depicts="j1-939" xml:id="_r-cctd.m1-1323.j1-939._r-cd.m1-1290.2..3.">
        <uml:blockname xml:id="_r-ccn.j1-939._r-cctd.m1-1323.j1-939._r-cd.m1-1290.2..3..2.">SortByValueBlock</uml:blockname>
        <uml:compartment kind="attributes" xml:id="_r-ccc._r-cctd.m1-1323.j1-939._r-cd.m1-1290.2..3..1-1.">
            <uml:attribute depicts="j1-940" xml:id="_r-cfta.j1-940._r-ccc._r-cctd.m1-1323.j1-939._r-cd.m1-1290.2..3..1-1..2.">
                <uml:var>
                    <uml:name>ascending</uml:name>
                    <uml:type>boolean</uml:type>
                </uml:var>
            </uml:attribute>
            <uml:attribute depicts="j1-943" xml:id="_r-cfta.j1-943._r-ccc._r-cctd.m1-1323.j1-939._r-cd.m1-1290.2..3..1-1..2.">
                <uml:var>
                    <uml:name>ASCENDING_VALUE_COMPARATOR</uml:name>
                    <uml:type>java.util.Comparator</uml:type>
                </uml:var>
            </uml:attribute>
            <uml:attribute depicts="j1-944" xml:id="_r-cfta.j1-944._r-ccc._r-cctd.m1-1323.j1-939._r-cd.m1-1290.2..3..1-1..2.">
                <uml:var>
                    <uml:name>DESCENDING_VALUE_COMPARATOR</uml:name>
                    <uml:type>java.util.Comparator</uml:type>
                </uml:var>
            </uml:attribute>
        </uml:compartment>
        <uml:compartment kind="operations" xml:id="_r-ccc._r-cctd.m1-1323.j1-939._r-cd.m1-1290.2..3..1-2.">
            <uml:operation depicts="j1-941" xml:id="_r-cmto.j1-941._r-ccc._r-cctd.m1-1323.j1-939._r-cd.m1-1290.2..3..1-2..2.">
                <uml:name>SortByValueBlock</uml:name>
                <uml:args>
                    <uml:var>
                        <uml:name>def</uml:name>
                        <uml:type>org.exist.fluent.Node</uml:type>
                    </uml:var>
                </uml:args>
            </uml:operation>
            <uml:operation depicts="j1-942" xml:id="_r-cmto.j1-942._r-ccc._r-cctd.m1-1323.j1-939._r-cd.m1-1290.2..3..1-2..2.">
                <uml:name>resolveOrder</uml:name>
                <uml:args>
                    <uml:var>
                        <uml:name>modBuilder</uml:name>
                        <uml:type>com.ideanest.dscribe.mixt.Mod.Builder</uml:type>
                    </uml:var>
                    <uml:var>
                        <uml:name>node</uml:name>
                        <uml:type>org.exist.fluent.Node</uml:type>
                    </uml:var>
                </uml:args>
                <uml:type>void</uml:type>
            </uml:operation>
            <uml:operation depicts="j1-945" xml:id="_r-cmto.j1-945._r-ccc._r-cctd.m1-1323.j1-939._r-cd.m1-1290.2..3..1-2..2.">
                <uml:name>sort</uml:name>
                <uml:args>
                    <uml:var>
                        <uml:name>segs</uml:name>
                        <uml:type>java.util.Collection</uml:type>
                    </uml:var>
                    <uml:var>
                        <uml:name>graph</uml:name>
                        <uml:type>com.ideanest.dscribe.mixt.OrderGraph</uml:type>
                    </uml:var>
                </uml:args>
                <uml:type>void</uml:type>
            </uml:operation>
            <uml:operation depicts="j1-946" xml:id="_r-cmto.j1-946._r-ccc._r-cctd.m1-1323.j1-939._r-cd.m1-1290.2..3..1-2..2.">
                <uml:name>createSeg</uml:name>
                <uml:args>
                    <uml:var>
                        <uml:name>mod</uml:name>
                        <uml:type>com.ideanest.dscribe.mixt.Mod</uml:type>
                    </uml:var>
                </uml:args>
                <uml:type>com.ideanest.dscribe.mixt.Seg</uml:type>
            </uml:operation>
        </uml:compartment>
    </uml:class>
    <uml:class depicts="j1-982" xml:id="_r-cctd.m1-1332.j1-982._r-cd.m1-1290.2..3.">
        <uml:blockname xml:id="_r-ccn.j1-982._r-cctd.m1-1332.j1-982._r-cd.m1-1290.2..3..2.">_SortByValueTest</uml:blockname>
        <uml:compartment kind="attributes" xml:id="_r-ccc._r-cctd.m1-1332.j1-982._r-cd.m1-1290.2..3..1-1."/>
        <uml:compartment kind="operations" xml:id="_r-ccc._r-cctd.m1-1332.j1-982._r-cd.m1-1290.2..3..1-2.">
            <uml:operation depicts="j1-983" xml:id="_r-cmto.j1-983._r-ccc._r-cctd.m1-1332.j1-982._r-cd.m1-1290.2..3..1-2..2.">
                <uml:name>parse1</uml:name>
                <uml:args/>
                <uml:type>void</uml:type>
            </uml:operation>
            <uml:operation depicts="j1-984" xml:id="_r-cmto.j1-984._r-ccc._r-cctd.m1-1332.j1-982._r-cd.m1-1290.2..3..1-2..2.">
                <uml:name>parse2</uml:name>
                <uml:args/>
                <uml:type>void</uml:type>
            </uml:operation>
            <uml:operation depicts="j1-985" xml:id="_r-cmto.j1-985._r-ccc._r-cctd.m1-1332.j1-982._r-cd.m1-1290.2..3..1-2..2.">
                <uml:name>parse3</uml:name>
                <uml:args/>
                <uml:type>void</uml:type>
            </uml:operation>
            <uml:operation depicts="j1-986" xml:id="_r-cmto.j1-986._r-ccc._r-cctd.m1-1332.j1-982._r-cd.m1-1290.2..3..1-2..2.">
                <uml:name>parse4</uml:name>
                <uml:args/>
                <uml:type>void</uml:type>
            </uml:operation>
            <uml:operation depicts="j1-987" xml:id="_r-cmto.j1-987._r-ccc._r-cctd.m1-1332.j1-982._r-cd.m1-1290.2..3..1-2..2.">
                <uml:name>resolveOrder</uml:name>
                <uml:args/>
                <uml:type>void</uml:type>
            </uml:operation>
            <uml:operation depicts="j1-988" xml:id="_r-cmto.j1-988._r-ccc._r-cctd.m1-1332.j1-982._r-cd.m1-1290.2..3..1-2..2.">
                <uml:name>resolveOrderBadQuery</uml:name>
                <uml:args/>
                <uml:type>void</uml:type>
            </uml:operation>
            <uml:operation depicts="j1-989" xml:id="_r-cmto.j1-989._r-ccc._r-cctd.m1-1332.j1-982._r-cd.m1-1290.2..3..1-2..2.">
                <uml:name>restore</uml:name>
                <uml:args/>
                <uml:type>void</uml:type>
            </uml:operation>
            <uml:operation depicts="j1-990" xml:id="_r-cmto.j1-990._r-ccc._r-cctd.m1-1332.j1-982._r-cd.m1-1290.2..3..1-2..2.">
                <uml:name>restoreBadQuery</uml:name>
                <uml:args/>
                <uml:type>void</uml:type>
            </uml:operation>
            <uml:operation depicts="j1-991" xml:id="_r-cmto.j1-991._r-ccc._r-cctd.m1-1332.j1-982._r-cd.m1-1290.2..3..1-2..2.">
                <uml:name>verify</uml:name>
                <uml:args/>
                <uml:type>void</uml:type>
            </uml:operation>
            <uml:operation depicts="j1-992" xml:id="_r-cmto.j1-992._r-ccc._r-cctd.m1-1332.j1-982._r-cd.m1-1290.2..3..1-2..2.">
                <uml:name>verifyBad</uml:name>
                <uml:args/>
                <uml:type>void</uml:type>
            </uml:operation>
            <uml:operation depicts="j1-993" xml:id="_r-cmto.j1-993._r-ccc._r-cctd.m1-1332.j1-982._r-cd.m1-1290.2..3..1-2..2.">
                <uml:name>sortAscending</uml:name>
                <uml:args/>
                <uml:type>void</uml:type>
            </uml:operation>
            <uml:operation depicts="j1-994" xml:id="_r-cmto.j1-994._r-ccc._r-cctd.m1-1332.j1-982._r-cd.m1-1290.2..3..1-2..2.">
                <uml:name>sortDescending</uml:name>
                <uml:args/>
                <uml:type>void</uml:type>
            </uml:operation>
        </uml:compartment>
    </uml:class>
</uml:diagram>